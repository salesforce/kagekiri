<!--
  Copyright (c) 2019, salesforce.com, inc.
  All rights reserved.
  SPDX-License-Identifier: BSD-3-Clause
  For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause
-->

<body>
  <script>
    class OuterComponent extends HTMLElement {
      constructor() {
        super()
        const shadowRoot = this.attachShadow({ mode: 'open' })
        shadowRoot.innerHTML = `
        <div class="container">
          <div></div>
        </div>
      `
      }

      connectedCallback() {
        this.shadowRoot.querySelector('.container > div').appendChild(new InnerComponent())
      }
    }

    class InnerComponent extends HTMLElement {
      constructor() {
        super()
        const shadowRoot = this.attachShadow({ mode: 'open' })
        shadowRoot.innerHTML = `
        <div class="inner-component">
          <label></label>
          <select class="selectBox1"></select>
        </div>
        <div class="inner-component">
          <label></label>
          <select class="selectBox2"></select>
        </div>
            `;
      }
    }

    customElements.define('outer-component', OuterComponent)
    customElements.define('inner-component', InnerComponent)

    document.querySelector('body').appendChild(new OuterComponent())
  </script>
</body>